#summary How to get Micrite into the Eclipse 3.4 workspace as an eclipse project.
#labels Phase-Implementation
<wiki:toc max_depth="3" />
= Introduction =
The following instructions will enable you to get Micrite into the Eclipse 3.4 workspace as an eclipse project. You will be able use eclipse to make code changes and run Unit tests. For purposes of this discussion the development OS is Windows. Please adjust these instructions for your environment.

= Prerequisites =

Install the software required for [Building Building Gaixie Micrite] and follow the instructions to build Geronimo.

= Creating Eclipse Projects =
You could import all subprojects in the workspace. But a more efficient way is to import only the modules that you want to work on.

== Working with a single module ==
If you are planning to modify a single micrite module, you can import only that module in the workspace by running the following commands:

{{{
mvn install
cd modules\a_module
mvn -o eclipse:eclipse
}}}

== Working with multiple modules ==
The function is invalid now.

= Firing up Eclipse =

 * Import the project(s) to eclipse workspace using:
{{{
File --> Import --> +General --> Existing Projects into Workspace
}}}
 Select project or projects depending on how you created the project in the Creating Eclipse Projects step.

 * Set the Maven Classpath variable M2_REPO to tell Eclipse where the Maven repository is by clicking the "New" button in
{{{
Window --> Preferences --> Java --> Build Path --> Classpath Variables
}}}
 Enter M2_REPO and set it to your maven2 repository directory. On linux this directory is usually located at
{{{
~/.m2/repository
and on windows its usually at
"%USERPROFILE%\.m2\repository"
}}}
== Code Formatting ==

 * If you plan on contributing code or patches to the project, configure eclipse to not use tabs by doing the following:
{{{
Window --> Preferences --> Java --> Code Style --> Formatter --> Java Conventions [built-in]
}}}
 Click on "Edit". Under Indentation select Tab policy as "space only". Enter a new name for this profile and click "OK".

 * Create new java file(s) with comments using
 {{{
 Window --> Preferences --> Java --> Code Style --> Code Templates --> Comments --> Files
  }}}
 Click on "Edit". Replace default content with following lines:
 {{{
 /* ===========================================================
 * $$Id$$
 * This file is part of Micrite
 * ===========================================================
 *
 * (C) Copyright 2009, by Gaixie.org and Contributors.
 * 
 * Project Info:  http://micrite.gaixie.org/
 *
 * Micrite is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Micrite is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Micrite.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
 }}}

== Indentation ==
=== Java ===

Lets follow Sun's coding standard rules which are pretty common in Java.

http://java.sun.com/docs/codeconv/

http://java.sun.com/docs/codeconv/html/CodeConvTOC.doc.html

 * 4 characters indentation
 * No tabs please!

Correct brace style:
{{{
public class Foo {
    public void foo(boolean a, int x, int y, int z) {
        do {
            try {
                if (x > 0) {
                    int someVariable = a ?  x : y;
                } else if (x < 0) {
                    int someVariable = (y + z);
                    someVariable = x = x + y;
                } else {
                    for (int i = 0; i < 5; i++) {
                        doSomething(i);
                    }
                }

                switch (a) {
                    case 0:
                        doCase0();
                        break;
                    default:
                        doDefault();
                }
            } catch (Exception e) {
                processException(e.getMessage(), x + y, z, a);
            } finally {
                processFinally();
            }
        } while (true);

        if (2 < 3) {
            return;
        }

        if (3 < 4) {
            return;
        }

        do {
            x++
        } while (x < 10000);

        while (x < 50000) {
            x++;
        }

        for (int i = 0; i < 5; i++) {
            System.out.println(i);
        }
    }

    private class InnerClass implements I1, I2 {
        public void bar() throws E1, E2 {
        }
    }
}
}}}
=== XML ===

 * Use 4 characters. This is to allow IDEs such as Eclipse to use a unified formatting convention
 * No tabs please!

== Eclipse Auto-Formatting ==

 * use Source -> Organise Imports to organize imports.
 * use Source -> Format to format code (please make sure you are using spaces instead of tabs.See Code Formatting).

= Other Userfule Information =
If you plan on contributing code or patches to the project please configure your subversion client :

 * [SubversionClientConfiguration Subversion Client Configuration]